<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-to-SQL Query</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2em;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        label {
            display: block;
            margin-bottom: 0.5em;
        }
        input, textarea {
            width: 100%;
            padding: 0.5em;
            margin-bottom: 1em;
        }
        button {
            padding: 0.7em 1.5em;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
        }
        .info-box {
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            padding: 1em;
            margin-bottom: 2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ask Your Database a Question</h1>

        <div class="info-box">
            <h4>How to Use This Application</h4>
            <p>
                To get the most accurate results, especially for complex databases, you can provide the relevant table definitions in the "Manual Schema Definition" box below.
                This helps the AI focus on only the tables and columns needed to answer your question.
            </p>
            <p>See the <a href="README.md" target="_blank">README</a> for more details.</p>
        </div>

        <form action="/query" method="post">
            <label for="db_uri">Database Connection URI</label>
            <input type="text" id="db_uri" name="db_uri" value="sqlite:///sample.db" required>
            <p><i>Example for SQLite: <code>sqlite:///sample.db</code><br>
               Example for PostgreSQL: <code>postgresql://user:password@host:port/dbname</code></i></p>

            <label for="query">Your Question</label>
            <textarea id="query" name="query" rows="4" required></textarea>

            <hr style="margin: 2em 0;">

            <label for="schema_text">Manual Schema Definition (Optional)</label>
            <textarea id="schema_text" name="schema_text" rows="10" placeholder="Paste the relevant schema information here, using CREATE TABLE statements."></textarea>
            <p><i>Pasting `CREATE TABLE` statements here helps the AI understand your database structure. For example:
<pre>
CREATE TABLE Employee (
    EmployeeId int NOT NULL,
    LastName varchar(250) NULL,
    FirstName varchar(250) NULL,
    ...
);

CREATE TABLE Appointment (
    AppointmentId int NOT NULL,
    PatientId int NOT NULL,
    EmployeeId int NOT NULL,
    ...
);
</pre>
            </i></p>


            <button type="submit">Ask</button>
        </form>
    </div>
</body>
</html>
